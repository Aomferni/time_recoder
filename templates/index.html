{% extends "base.html" %}

{% block content %}
<h1>时间追踪器</h1>

<div class="user-section">
    <!-- 将导航链接移到右上角 -->
    <div class="top-navigation">
        <a href="/records" class="nav-link">查看历史记录</a>
        <a href="/mood-wall" class="nav-link">情绪与活动墙</a>
        <a href="/project-description" class="nav-link">项目说明</a>
        <a href="/manage-categories" class="nav-link">管理类别</a>
    </div>
</div>

<div class="main-layout">
    <div class="section">
        <h2>选择活动</h2>
        
        <!-- 活动按钮将通过JavaScript动态生成 -->
        
    </div>
    
    <div class="section">
        <div class="current-activity" id="currentActivity" contenteditable="false">请选择活动</div>
        
        <!-- 突出显示的计时器区域 -->
        <div class="focus-timer-section">
            <div class="focus-label">当前持续专注时长</div>
            <div class="timer-display" id="timerDisplay">00:00:00</div>
        </div>
        
        <div class="control-buttons">
            <button class="control-btn toggle-btn" id="toggleBtn">开始</button>
        </div>
        
        <h2>今日记录（<span id="currentDate"></span>）</h2>
        <table class="records-table">
            <thead>
                <tr>
                    <th>活动</th>
                    <th>开始时间</th>
                    <th>计时时长</th>
                    <th>操作</th>
                </tr>
            </thead>
            <tbody id="recordsBody">
            </tbody>
        </table>
        
        <div class="stats" id="stats">
            <div class="stat-card">
                <h3>今日总计</h3>
                <p id="totalTime">0小时0分</p>
            </div>
            <div class="stat-card">
                <h3>今日创作总计</h3>
                <p id="toyTotalTime">0小时0分</p>
            </div>
            <div class="stat-card">
                <h3>活动次数</h3>
                <p id="activityCount">0次</p>
            </div>
        </div>
    </div>
</div>

<!-- 活动详情浮窗 -->
<div id="recordDetailModal" class="modal" style="display: none;">
    <div class="modal-content">
        <span class="close" onclick="TimeRecorderRecordDetail.closeRecordDetailModal()">&times;</span>
        <h2>活动详情</h2>
        <div id="recordDetailContent"></div>
    </div>
</div>

<script>
</script>
{% endblock %}