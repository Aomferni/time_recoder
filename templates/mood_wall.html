{% extends "base.html" %}

{% block title %}情绪与活动墙 - 时间追踪器{% endblock %}

{% block head %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/modules/mood-wall.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='css/modules/detail-modal.css') }}">
{% endblock %}

{% block content %}
<div class="wall-header">
    <h1>情绪与活动墙</h1>
    <div class="wall-navigation">
        <a href="/" class="nav-link">返回首页</a>
        <a href="/records" class="nav-link">历史记录</a>
        <a href="/project-description" class="nav-link">项目说明</a>
        <a href="/logs" class="nav-link">系统日志</a>
    </div>
    <div class="month-navigation">
        <button id="prevMonth" class="nav-btn">上个月</button>
        <span id="currentMonth" class="month-display"></span>
        <button id="nextMonth" class="nav-btn">下个月</button>
    </div>
</div>

<div class="wall-container">
    <div class="wall-section-container">
        <div class="wall-section">
            <h2>情绪墙</h2>
            <div id="moodWall" class="mood-wall-container"></div>
        </div>
        
        <div class="wall-section">
            <h2>活动类型墙</h2>
            <div id="activityWall" class="activity-wall-container"></div>
        </div>
    </div>
    
    <div class="wall-section">
        <h2>关键词词云（近7天）</h2>
        <div id="keywordCloud" class="keyword-cloud"></div>
    </div>
</div>

<div class="legend-section">
    <div class="legend-group">
        <h3>情绪图例</h3>
        <div id="moodLegend" class="legend-container"></div>
    </div>
    <div class="legend-group">
        <h3>活动类型图例</h3>
        <div id="activityLegend" class="legend-container"></div>
    </div>
</div>

<!-- 活动详情浮窗 -->
<div id="recordDetailModal" class="modal" style="display: none;">
    <div class="modal-content">
        <span class="close" onclick="TimeRecorderRecordDetail.closeRecordDetailModal()">&times;</span>
        <h2>活动详情</h2>
        <div id="recordDetailContent"></div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script type="module" src="{{ url_for('static', filename='js/modules/moodWall.js') }}"></script>
{% endblock %}
