# 时间记录器产品需求文档 (PRD)

## 1. 文档信息

| 项目 | 信息 |
|------|----- -|
| 产品名称 | 时间记录器 (Time Recorder) |
| 文档版本 | v1.2.9 |
| 创建日期 | 2025-10-18 |
| 当前版本 | v1.2.14 |
| 文档作者 | Amy |
| 产品类型 | Web应用 |

## 2. 系统设计

### 2.1 整体架构
时间记录器采用前后端分离的架构设计，前端使用原生JavaScript和CSS，后端使用Flask框架提供RESTful API服务。

#### 2.1.1 前端架构
- **HTML模板**：使用原生HTML构建页面结构
- **CSS样式**：采用模块化CSS设计，使用字节风设计系统
- **JavaScript逻辑**：采用ES6模块化设计，按功能划分为多个模块
- **数据交互**：通过Fetch API与后端进行数据交互

#### 2.1.2 后端架构
- **Web框架**：Flask
- **数据存储**：JSON文件存储（records.json、plans.json、activity_categories.json）
- **API设计**：RESTful风格API
- **第三方集成**：飞书多维表格API

### 2.2 颜色体系
系统采用统一的颜色管理体系，确保所有界面元素的颜色一致性。

#### 2.2.1 活动分类颜色
系统定义了7种活动分类，每种分类使用不同颜色区分：

| 分类名称 | 颜色 | 包含活动示例 |
|---------|------|------------|
| 工作输出 | 蓝色 | 梳理方案、开会、探索新方法、执行工作、复盘 |
| 大脑充电 | 绿色 | 和智者对话、做调研 |
| 身体充电 | 绿色 | 健身、散步 |
| 修养生息 | 紫色 | 处理日常、进入工作状态、睡觉仪式 |
| 输出创作 | 橙色 | 创作/写作、玩玩具 |
| 暂停一下 | 青色 | 交流心得、记录\|反思\|计划 |
| 纯属娱乐 | 灰色 | 刷手机 |

颜色定义采用统一管理策略，所有颜色配置集中存储在[data/activity_categories.json](file:///Users/amy/Documents/codes/time_recoder/data/activity_categories.json)文件中，前端通过JavaScript模块导入使用，CSS样式通过CSS变量引用，确保颜色定义的一致性和可维护性。

#### 2.2.2 情绪颜色
情绪显示使用预定义的颜色映射，确保情绪表达的一致性。

#### 2.2.3 界面组件颜色
系统界面组件使用字节风设计系统的颜色规范，确保整体视觉风格统一。

## 3. 功能需求

### 3.1 核心功能

#### 3.1.1 活动时间追踪
**功能描述**：实时记录活动时间，支持开始、暂停、继续、停止操作

**用户故事**：
- 作为用户，我希望能够选择活动后立即开始计时
- 作为用户，我希望在计时过程中能够暂停和继续
- 作为用户，我希望系统能够自动计算专注时长和时间跨度

**功能细节**：
- 支持从预设活动类别中选择活动
- 实时显示计时器，精确到秒
- 支持暂停功能，每次暂停创建一个新的专注段落
- 自动计算所有段落的累计时长和时间跨度
- 未选择活动时点击开始按钮，弹窗提醒
- **优化：计时器区域本身可点击来开始/停止计时**
- **优化：当前活动区域支持单击弹窗选择活动和双击直接修改活动名称**
- **优化：活动选择弹窗按活动类别进行分区展示，每行最多显示8个按钮，布局紧凑**
- **修复：活动选择弹窗按钮显示问题，确保按钮文字清晰可见**
- **优化：活动选择弹窗按钮颜色显示与活动类别颜色一致**

**优先级**：P0（核心功能）

#### 3.1.2 活动分类管理
**功能描述**：支持7大活动分类，每个分类包含多个具体活动

**预设分类**：

| 分类名称 | 颜色 | 包含活动示例 |
|---------|------|-------------|
| 工作输出 | 蓝色 | 梳理方案、开会、执行工作、复盘 |
| 大脑充电 | 绿色 | 和智者对话、做调研 |
| 身体充电 | 绿色 | 健身、散步 |
| 修养生息 | 紫色 | 处理日常、进入工作状态、睡觉仪式 |
| 输出创作 | 橙色 | 创作/写作、玩玩具 |
| 暂停一下 | 青色 | 交流心得、记录\|反思\|计划 |
| 纯属娱乐 | 灰色 | 刷手机 |

**功能细节**：
- 支持添加自定义活动类别
- 支持删除活动类别
- 活动按钮使用对应的分类颜色显示
- 支持编辑类别名称和颜色

**优先级**：P0（核心功能）

#### 3.1.3 记录详情管理
**功能描述**：查看、编辑活动记录的详细信息

**活动类别规范**：
- 每个活动在创建时都必须有一个明确的活动类别
- 不允许使用"其他"作为活动类别
- 活动类别必须从预定义的类别列表中选择或使用用户自定义的类别
- 活动类别下拉框动态加载所有可用的活动类别
- 保存记录时验证activityCategory字段不为空

**功能细节**：
- 支持简化版和完整版两种视图切换
- 简化版突出显示【记录收获】和【记录情绪】
- 完整版显示所有信息，包括段落详情、核心信息、时间信息
- 支持手动调整模态框大小
- 支持编辑活动名称、开始时间、备注、情绪
- 支持编辑和删除段落信息
- 模态框标题显示活动名称
- 支持ESC键关闭模态框
- **在活动详情页保存或删除记录后，自动刷新当前页面及其他相关页面的数据，确保数据一致性**

**优先级**：P0（核心功能）

#### 3.1.4 情绪记录与管理
**功能描述**：记录活动时的情绪状态，支持多情绪选择（可同时选择多个情绪）

**情绪分类体系**（四象限）：

**正向+专注**：
- 惊奇 (#9C27B0)
- 兴奋 (#E91E63)
- 高兴 (#4CAF50)
- 愉悦 (#8BC34A)

**正向+松弛**：
- 安逸 (#00BCD4)
- 安心 (#2196F3)
- 满足 (#8BC34A)
- 宁静 (#009688)
- 放松 (#CDDC39)

**负面+松弛**：
- 悲伤 (#607D8B)
- 伤心 (#9E9E9E)
- 沮丧 (#F44336)
- 疲惫 (#795548)

**负面+专注**：
- 惊恐 (#FF5722)
- 紧张 (#FF9800)
- 愤怒 (#F44336)
- 苦恼 (#FFC107)

**交互优化**：
- 情绪按钮整体显示对应颜色
- 按四象限布局展示
- 点击后右上角显示√标识
- 支持触觉反馈（移动端震动）
- 支持多选
- 最小触摸目标44px（移动端友好）

**优先级**：P0（核心功能）

#### 3.1.5 今日计划自动同步
**功能描述**：今日计划数据自动同步到飞书多维表格

**功能细节**：
- 当今日计划自动保存时，同时将今日计划数据和计时记录数据导出到飞书多维表格
- 支持飞书配置检查，只有在配置了飞书的情况下才执行同步
- 支持自动同步开关控制，用户可通过飞书配置页面的【自动同步至飞书】开关控制是否启用自动同步
- 同步操作对用户无感知，后台静默执行
- 同步状态在页面上显示，包括最后同步时间和同步结果
- **优化：移除同步所有记录到飞书的逻辑，改为在每次保存单独活动详情和停止一次活动计时时，单独同步该记录到飞书多维表格**

**优先级**：P1（重要功能）

#### 3.1.6 项目初始化配置
**功能描述**：在项目首次启动时，要求用户必须配置飞书集成，并从飞书多维表格同步活动记录和今日计划数据

**用户故事**：
- 作为新用户，我希望在首次使用应用时能配置飞书集成
- 作为用户，我希望应用能从飞书多维表格同步我已有的活动记录和计划数据
- 作为用户，我希望初始化过程简单明了，有明确的指引

**功能细节**：
- 应用启动时检测是否已配置飞书
- 如果未配置，引导用户完成飞书配置
- 配置完成后，自动从飞书多维表格同步所有活动记录
- 同步飞书多维表格中的所有日期的今日计划数据
- 同步完成后，应用正常启动并显示同步的数据
- 提供同步进度和状态反馈
- **初始化时，需要运行一次飞书链接，验证是否有效**
- **验证有效后，从飞书完整同步一次【今日计划】的所有记录到 plans.json，以及所有活动记录到records.json**
- **支持从飞书配置页面手动触发数据导入功能，可导入所有活动记录和今日计划数据**

**优先级**：P1（重要功能）

### 3.2 数据展示功能

#### 3.2.1 情绪墙
**功能描述**：可视化展示最近7天的情绪分布

**功能细节**：
- 按日期展示，最近日期在上
- 每个情绪方块代表一次情绪记录
- 方块大小25x25px，根据时长设置透明度
- 鼠标悬停显示活动名称和时长
- 点击方块打开对应的活动详情
- 左右分栏展示（情绪墙在左，活动墙在右）
- 移动端自动切换为垂直布局
- **优化：每个活动记录都有一个小方块，鼠标移动到小方块上方时显示活动名称和对应的时长**

**优先级**：P1（重要功能）

#### 3.2.2 活动类型墙
**功能描述**：可视化展示最近7天的活动类型分布

**功能细节**：
- 按日期展示，最近日期在上
- **直接使用每条记录的activityCategory字段值进行分类和显示，而不是通过活动名称匹配**
- 方块大小25x25px，根据时长设置透明度
- 鼠标悬停显示具体信息
- 点击方块打开对应的活动详情
- 与情绪墙左右分栏展示
- **优化：每个活动记录都有一个小方块，鼠标移动到小方块上方时显示活动名称和对应的时长**

**优先级**：P1（重要功能）

#### 3.2.3 关键词词云
**功能描述**：展示最近7天活动和备注中的高频关键词

**功能细节**：
- 从活动名称和备注中提取关键词
- 按出现频率排序，取前20个
- 使用不同大小和颜色的方块展示
- 过滤单字符关键词

**优先级**： P2（次要功能）

#### 3.2.4 统计信息
**功能描述**：首页展示今日时间统计信息

**统计指标**：
- 今日总计时长（小时+分钟）
- 今日创作总计时长
- 今日活动次数

**优先级**：P1（重要功能）

#### 3.2.5 今日计划
**功能描述**：在首页提供今日计划功能，帮助用户规划和回顾每一天，并支持选择不同日期进行查看和更新

**用户场景**：
- 作为用户，我希望在每天开始时记录今天的计划
- 作为用户，我希望系统自动追踪我的执行情况
- 作为用户，我希望在一天结束时回顾和评估
- 作为用户，我希望计划数据能同步到云端
- 作为用户，我希望能够查看和编辑历史日期的计划

**功能细节**:

**用户输入字段**：
- 今天是——：自动显示当前日期（年月日，使用北京时间）
- 重要的三件事：三个文本输入框，记录最重要的任务
- 要尝试的三件事：三个文本输入框，记录想要尝试的新事物
- 其他事项：多行文本框，记录其他需要处理的事情
- 今日充电（要阅读）：多行文本框，记录阅读或学习计划
- 给今天打个分：单选按钮，五个等级（优秀/良好/一般/较差/很差）
- 为什么？：多行文本框，记录评分原因

**自动更新字段**：
- 今日做过的活动：自动整理列表，根据用户选择日期的活动数据自动更新（新一天开始时为空是正常的）
- 今日的情绪集合：彩色多选方块，根据用户选择日期的活动数据自动更新（新一天开始时为空是正常的）
- 今日的活动类型集合：展示用户选择日期的所有活动类型，根据活动数据自动更新（新一天开始时为空是正常的）
- 今日专注时长：自动计算用户选择日期所有活动的累计时长（新一天开始时为0是正常的）
- 今日创作专注时长：自动计算用户选择日期创作类活动的时长（新一天开始时为0是正常的）

**交互功能**：
- 支持折叠/展开设计，节省屏幕空间
- 折叠时显示简要视图，包括：
  - 🎯 今天重要的三件事
  - ✨ 今天要尝试的三件事
  - 😊 今日的情绪集合
  - 🎯 今日的活动类型集合
- 输入框失焦自动保存
- 每1小时定时自动保存（**自动保存时间更新为北京时间整点，如10:00、11:00等**）
- 实时显示同步状态
- **支持选择不同日期进行查看和更新，通过日期选择器切换日期**
- **自动保存和同步功能应针对当前编辑的日期，而不是强制切换到当前日期**

**UI设计**：
- 紫色渐变背景，突出计划区域
- 卡片式分组布局
- 响应式设计，移动端垂直布局
- 金色强调色标识重要信息

**数据存储**：
- 本地存储：`data/daily_plans/plans.json`（所有计划数据统一存储在此文件中）
- 飞书同步：同步到飞书多维表格

**同步机制**：
- 如果飞书已配置，在"今日计划已自动保存"时进行同步（受【自动同步至飞书】开关控制）
- 点击【收起】时，执行一次同步（不受【自动同步至飞书】开关影响，只要配置了飞书就会同步）
- **优化：移除同步所有记录到飞书的逻辑，改为在每次保存单独活动详情和停止一次活动计时时，单独同步该记录到飞书多维表格**

**优先级**：P0（核心功能）

### 3.3 数据管理功能

#### 3.3.1 历史记录查看
**功能描述**：查看和管理所有历史记录

**功能细节**：
- 支持分页显示（每页20条）
- 支持关键字搜索（活动名称、备注）
- 支持日期范围筛选
- 支持活动类型筛选
- 支持情绪筛选
- 表格显示字段：日期、活动名称、开始时间、专注时长、备注信息、情绪
- 备注信息超长时截断，鼠标悬停显示完整内容

**优先级**：P1（重要功能）

#### 3.3.2 数据导入导出
**功能描述**：支持记录数据的导入和导出

**导出功能**：
- 支持导出当前用户所有记录为JSON格式
- 导出文件命名格式：`records_YYYY-MM-DD.json`
- 在历史记录页面提供导出按钮

**导入功能**：
- 支持导入JSON格式的记录文件
- 在历史记录页面提供导入按钮
- 导入成功后自动刷新记录列表

**优先级**：P1（重要功能）

#### 3.3.3 飞书集成
**功能描述**：与飞书多维表格集成，支持数据同步

**功能细节**：
- 支持配置飞书App ID和App Secret
- 支持导出记录到飞书多维表格
- 支持从飞书同步记录
- segments字段以JSON格式写入飞书
- 从飞书同步时解析segments字段
- **今日计划同步：自动获取飞书表格字段信息，智能匹配字段名称**
- **同步时准确处理activityCategory字段，确保活动类别信息正确同步**
- **对于飞书多维表格中已存在的记录（通过id字段判断），执行更新操作而不是创建新记录，避免数据重复**
- **修复：确保飞书配置页面【自动同步至飞书】开关的有效性，关闭开关后不会执行整点同步**

**字段映射机制**：
- 同步前自动获取飞书表格的字段列表
- 根据关键词智能匹配内部字段名与飞书字段名
- 支持中英文关键词匹配（如："日期"/"date"、"重要"/"important"等）
- 自动使用匹配后的完整字段名构建记录

**注意事项**：
1. 字段名必须使用飞书表格中的完整显示名称
2. 日期字段必须使用毫秒级时间戳
3. 多选字段（如情绪）必须使用数组格式
4. 确保飞书应用有写入多维表格的权限

**优先级**：P2（次要功能）

### 3.4 用户界面功能

#### 3.4.1 响应式设计
**功能描述**：适配不同屏幕尺寸的设备

**功能细节**：
- 桌面端优化（>768px）
- 移动端优化（<768px）
- 活动按钮、计时器、统计卡片自适应布局
- 导航按钮响应式显示

**优先级**：P1（重要功能）

#### 3.4.2 导航系统
**功能描述**：清晰的页面导航体系

**页面结构**：
- 首页（时间记录）
- 历史记录页
- 情绪与活动墙页
- 管理类别页
- 项目说明页

**导航样式**：
- 圆角设计
- 不同功能按钮使用独特颜色主题
- 悬停效果和动画过渡
- 位置：首页右侧，其他页面顶部

**优先级**：P0（核心功能）

## 4. 数据结构设计

### 4.1 记录数据结构

``json
{
  "id": "UUID格式的唯一标识符",
  "username": "用户名（已废弃，保留兼容性）",
  "date": "记录日期（北京时间，格式：YYYY/MM/DD）",
  "activity": "活动名称",
  "activityCategory": "活动类别",
  "startTime": "开始时间（UTC时间，ISO 8601格式）",
  "endTime": "结束时间（UTC时间，ISO 8601格式）",
  "duration": "计时时长（毫秒，所有段落累计）",
  "timeSpan": "时间跨度（毫秒，从开始到结束）",
  "pauseCount": "暂停次数（段落数量）",
  "remark": "备注信息（收获或感想）",
  "emotion": "情绪标签（多个情绪用逗号分隔）",
  "segments": [
    {
      "start": "段落开始时间（UTC时间，ISO 8601格式）",
      "end": "段落结束时间（UTC时间，ISO 8601格式）",
      "duration": "段落持续时间（毫秒，可选）"
    }
  ]
}
```

### 4.2 时间处理规范

**存储规范**：
- 所有时间字段使用UTC时间存储（ISO 8601格式）
- date字段使用北京时间的日期（YYYY/MM/DD格式）

**显示规范**：
- 前端显示时将UTC时间转换为北京时间（UTC+8）
- 时间格式：YYYY-MM-DD HH:mm:ss

**计算规范**：
- startTime：第一个段落的start时间
- endTime：最后一个段落的end时间
- duration：所有段落的累计时间
- timeSpan：从第一个段落start到最后一个段落end的时间跨度
- pauseCount：段落数量

### 4.3 今日计划数据结构

``json
{
  "id": "计划唯一标识符(UUID格式)",
  "date": "计划日期（格式：YYYY-MM-DD）",
  "importantThings": ["重要事项数1", "重要事项数2", "重要事项数3"],
  "tryThings": ["尝试事项数1", "尝试事项数2", "尝试事项数3"],
  "otherMatters": "其他事项",
  "reading": "今日充电（要阅读）",
  "score": "今日评分（优秀/良好/一般/较差/很差）",
  "scoreReason": "评分原因",
  "activities": [
    {
      "activity": "活动名称",
      "category": "活动类别",
      "duration": "时长（毫秒）",
      "startTime": "开始时间（UTC时间）"
    }
  ],
  "emotions": ["情绪集合"],
  "activityCategories": ["活动类型集合"],
  "totalDuration": "总专注时长（毫秒）",
  "creationDuration": "创作时长（毫秒）",
  "createdAt": "创建时间（UTC时间）",
  "updatedAt": "更新时间（UTC时间）",
  "syncedToFeishu": "是否同步到飞书",
  "lastFeishuSyncAt": "最后同步时间（UTC时间）",
  "feishuRecordId": "飞书多维表格记录ID（可选）"
}```

**飞书字段映射说明**：
- `importantThings` 对应飞书多维表格中的 "今天重要的三件事" 字段
- `tryThings` 对应飞书多维表格中的 "今天要尝试的三件事" 字段
- `score` 对应飞书多维表格中的 "给今天打个分" 字段
- `scoreReason` 对应飞书多维表格中的 "为什么？" 字段

## 5. 技术架构

### 5.1 技术栈

**后端**：
- Python 3.6+
- Flask 2.0+
- JSON文件存储

**前端**：
- HTML5
- CSS3（模块化设计）
- JavaScript ES6（模块化设计）
- 原生AJAX

### 5.2 模块化设计

**JavaScript模块**：
- config.js - 全局配置和状态管理
- utils.js - 通用工具函数
- api.js - 后端接口调用
- ui.js - 用户界面交互
- timer.js - 计时功能
- recordDetail.js - 记录详情管理
- records.js - 记录列表管理
- main.js - 应用初始化

**CSS模块**：
- base.css - 基础样式
- layout.css - 布局
- activity-buttons.css - 活动按钮
- timer.css - 计时器
- detail-modal.css - 详情模态框
- mood-wall.css - 情绪墙
- 等28个功能模块

### 5.3 API接口设计

| 接口 | 方法 | 说明 |
|------|------|------|
| /api/records | GET | 获取今日记录 |
| /api/records | POST | 添加新记录 |
| /api/records/<id> | GET | 获取单个记录详情 |
| /api/records/<id> | PUT | 更新记录 |
| /api/records/<id> | DELETE | 删除记录 |
| /api/all-records | GET | 获取所有记录（支持筛选和分页） |
| /api/stats | GET | 获取统计信息 |
| /api/activity-categories | GET | 获取活动类别配置 |
| /api/mood-wall | GET | 获取情绪墙数据 |
| /api/activity-wall | GET | 获取活动墙数据 |
| /api/keyword-cloud | GET | 获取关键词词云数据 |
| /api/import-records | POST | 导入记录 |
| /api/export-records | GET | 导出记录 |
| /api/daily-plan | GET | 获取今日计划 |
| /api/daily-plan | POST | 保存今日计划 |
| /api/daily-plan/sync-feishu | POST | 同步计划到飞书 |
| /api/import-records | POST | 导入记录 |
| /api/export-records | GET | 导出记录 |

## 6. 用户体验设计

### 6.1 交互设计原则

1. **直观易用**：核心操作（开始/停止计时）突出显示
2. **即时反馈**：所有操作提供视觉和文本反馈
3. **防呆设计**：未选择活动时提示用户
4. **移动友好**：最小触摸目标44px，支持触觉反馈

### 6.2 视觉设计原则

1. **色彩体系**：7种活动分类使用不同颜色区分
2. **层次分明**：使用z-index管理元素层级
3. **空间利用**：情绪墙和活动墙左右分栏，提高信息密度
4. **响应式**：不同屏幕尺寸自适应布局

### 6.3 关键交互流程

**时间记录流程**：
1. 用户输入用户名（可选）
2. 选择活动类别和具体活动
3. 点击【开始】按钮启动计时
4. 计时过程中可以暂停/继续
5. 点击【停止】按钮结束计时
6. 自动弹出记录详情模态框
7. 填写收获和选择情绪
8. 点击【保存】保存记录

**记录查看流程**：
1. 进入历史记录页面
2. 设置筛选条件（可选）
3. 点击记录行查看详情
4. 在模态框中查看/编辑记录
5. 支持删除记录

## 7. 非功能需求

### 7.1 性能要求
- 页面加载时间 < 2秒
- API响应时间 < 500ms
- 支持1000+条记录的流畅操作

### 7.2 兼容性要求
- 支持Chrome、Safari、Firefox、Edge最新版本
- 支持iOS Safari、Android Chrome
- 响应式设计支持320px-1920px屏幕宽度

### 7.3 可用性要求
- 用户无需培训即可完成核心操作
- 所有操作提供明确的反馈
- 错误信息清晰易懂

### 7.4 数据安全
- 数据存储在本地JSON文件
- 支持数据导出备份
- 飞书集成使用加密配置

## 8. 版本规划

### 当前版本：v1.0.110

**已实现功能**：
- ✅ 时间记录核心功能
- ✅ 活动分类管理
- ✅ 情绪记录与四象限分类
- ✅ 情绪墙和活动墙可视化
- ✅ 关键词词云
- ✅ 历史记录查询和筛选
- ✅ 数据导入导出
- ✅ 飞书集成
- ✅ 响应式设计
- ✅ 模块化代码架构
- ✅ 优化飞书同步机制，移除同步所有记录到飞书的逻辑
- ✅ 在每次保存单独活动详情和停止一次活动计时时，单独同步该记录到飞书多维表格
- ✅ 修复飞书配置页面【自动同步至飞书】开关有效性问题

### 未来版本规划

**v1.1 计划**：
- 数据分析图表（时间趋势图）
- 周报/月报自动生成
- 番茄钟集成
- 目标设定与追踪

**v1.2 计划**：
- 多用户支持
- 数据库存储替代JSON文件
- 用户认证与授权
- 数据云端同步

**v2.0 愿景**：
- AI智能分析与建议
- 团队协作功能
- 移动端App
- 第三方集成（Google Calendar、Notion等）

## 9. 附录

### 9.1 术语表

| 术语 | 定义 |
|------|------|
| 段落 | 一次连续的专注时间，暂停会创建新段落 |
| 计时时长 | 所有段落的累计时间 |
| 时间跨度 | 从开始到结束的总时间（包含暂停时间） |
| 情绪墙 | 按日期展示情绪分布的可视化界面 |
| 活动墙 | 按日期展示活动类型分布的可视化界面 |
| UTC时间 | 协调世界时，用于数据存储 |
| 北京时间 | UTC+8，用于界面显示 |

### 9.2 参考文档

- [项目架构设计文档](structure.md)
- [版本更新记录](VERSION.md)
- [项目说明文档](README.md)
- [修复记录目录](fix_records/)

### 9.3 更新历史

| 版本 | 日期 | 说明 |
|------|------|------|
| v1.0 | 2025-10-18 | 初始版本 |
| v1.1 | 2025-10-18 | 新增今日计划功能 |
| v1.2 | 2025-10-18 | 优化今日计划折叠显示，新增活动类型集合字段 |
| v1.2.1 | 2025-10-18 | 修复飞书同步字段名匹配错误，实现智能字段映射机制 |
| v1.2.2 | 2025-10-18 | 优化情绪墙和活动墙显示效果，每个活动记录都有独立方块展示 |
| v1.2.3 | 2025-10-19 | 合并飞书同步计划接口，避免代码重复 |
| v1.2.4 | 2025-10-19 | 修复飞书导入今日计划功能，确保能正确同步plans.json文件 |
| v1.2.5 | 2025-10-19 | 优化飞书同步机制，移除同步所有记录到飞书的逻辑 |
| v1.2.6 | 2025-10-19 | 在每次保存单独活动详情和停止一次活动计时时，单独同步该记录到飞书多维表格 |
| v1.2.7 | 2025-10-19 | 修复飞书配置页面【自动同步至飞书】开关有效性问题 |
| v1.2.8 | 2025-10-19 | 优化活动选择弹窗按钮颜色显示与活动类别颜色一致 |

---

**文档结束**